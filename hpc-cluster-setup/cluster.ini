[aws]
aws_region_name = 
 
[global]
cluster_template = default
update_check = false
sanity_check = true
 
[cluster default]
key_name = dist-ml-key
base_os = alinux2
scheduler = slurm
master_instance_type = c5.2xlarge
s3_read_write_resource = arn:aws:s3:::mlbucket-*
scaling_settings = custom
vpc_settings = public
ebs_settings = myebs
fsx_settings = myfsx
queue_settings = compute
dcv_settings = default
post_install = s3://mlbucket-/post-install.sh
 
[dcv default]
enable = master
 
[queue compute]
compute_resource_settings = default
disable_hyperthreading = true
placement_group = DYNAMIC
enable_efa = true
 
[compute_resource default]
instance_type = p3dn.24xlarge
min_count = 2
max_count = 4

[scaling custom]
scaledown_idletime = 15
 
[vpc public]
vpc_id = 
master_subnet_id = 
 
[ebs myebs]
shared_dir = /shared
volume_type = gp2
volume_size = 50
 
[fsx myfsx]
shared_dir = /lustre
storage_capacity = 1200
import_path =  s3://mlbucket-
deployment_type = SCRATCH_2
 
[aliases]
ssh = ssh {CFN_USER}@{MASTER_IP} {ARGS}

